# OpenVPN Manager Script
Скрипт для автоматической установки, настройки и диагностики OpenVPN на Linux (Debian/Ubuntu).

## Возможности
- Установка и настройка OpenVPN сервера
- Генерация клиентских конфигов (.ovpn)
- Удаление клиентов (отзыв сертификатов)
- Полная диагностика проблем
- Управление сервером (перезапуск, проверка статуса)
Что было добавлено/изменено:
Автоматическое определение внешнего интерфейса:

Добавлена функция get_external_interface()

Правила iptables теперь применяются к правильному интерфейсу
Полная диагностика OpenVPN (новый пункт меню 6):
Проверка статуса сервиса
Проверка сетевых интерфейсов
Анализ таблицы маршрутизации
Проверка IP-форвардинга
Проверка правил iptables
Просмотр активных клиентов
Анализ логов
Проверка DNS

Улучшенные правила iptables:
Добавлены правила для FORWARD цепочки
Правила сохраняются в /etc/iptables.rules

Улучшенный вывод информации:

Более структурированный вывод диагностики
Улучшенное форматирование меню

Стабильность работы:
Добавлены проверки ошибок
Улучшена обработка ввода

Как использовать:
Сохраните скрипт как openvpn_manager.sh
Дайте права на выполнение: chmod +x openvpn_manager.sh
Запустите с правами root: sudo ./openvpn_manager.sh
Теперь вы можете легко управлять OpenVPN сервером, создавать клиентов и проводить диагностику проблем прямо из меню!
